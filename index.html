<!DOCTYPE html>
<html lang="en">
	<head>	
		<meta charset="utf-8">
		<title>A Reasonable Website</title>
		<meta name="description" content="A Reasonable Website is a template that anyone can use to make an accessible, fast, and kinda nice-looking website.">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="./css/reasonable.css" />
		<link rel="stylesheet" href="./css/website.css" />
		<link rel="stylesheet" href="./css/palettes/color-blue.css" name="css-color">
		<!-- <link rel="stylesheet" href="./css/mode-light.css" name="css-mode"> -->
		<!-- <link rel="stylesheet" href="./css/gradient-ppb.css" name="css-gradient"> -->
		<!-- <link rel="stylesheet" href="./css/patterns/stroke-circle-purple.css" name="css-pattern"> -->
		
	</head>
	<body class="light">
		<div class="fixed-header-background bg-gradient"></div>

		<main>
			<header>
				<h1><a name="h1"></a>A Reasonable Website</h1>
				<p>A Reasonable Website is a template that <em>anyone can use</em> to make an accessible, fast, and kinda nice-looking<sup><a title="Footnote #1" href="#footnote-1">1</a></sup> website. That’s it!</p>
			</header>

			<article>

				<section>
					<h2>Why does this exist?</h2>
					<p>A Reasonable Website (<abbr title="A Reasonable Website">ARW</abbr>) exists to help humans make nice websites. It is designed to be a simple, free, and universal vehicle for pushing hypertext out into the world.</p>
				</section>

				<section>
					<h3>Can I use this?</h3>
					<p><abbr title="A Reasonable Website">ARW</abbr> is free software<sup><a title="Footnote #2" href="#footnote-2">2</a></sup>. The full, annotated source code is available, and it is released here under the <a href="https://choosealicense.com/licenses/mit/">MIT License</a>.</p>
					<p>The current version (0.1) is usable, but in steady development. Check back later for a more stable release.</p>
				</section>

				<div class="full-width neutral">
				<section>
					<h3>OK, but what is <em>reasonable</em>?</h3>
					<p>Fair question. All software must make choices and those choices reflect the values of its creators. A Reasonable Website tries its very best to make reasonable choices and explicity state its values.</p>
					<p>Websites can do so much (so much!), but <abbr title="A Reasonable Website">ARW</abbr> has just three goals: a reasonable website should be <em>accessible</em>, <em>performant</em>, and <em>nice-looking</em>.</p>
				</section>
				</div>
				
				<section>
					<div class="flex-heading">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="icon icon-accessibility"  clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 48 48" ><title>Person in a wheelchair leaning forward, in motion</title><path class="icon-fill" d="m19.839 42.792c1.948 0 3.759-.598 5.26-1.619l3.725 3.725c-2.477 1.942-5.595 3.102-8.985 3.102-8.055 0-14.585-6.53-14.585-14.584 0-3.391 1.161-6.509 3.102-8.986l3.725 3.725c-1.021 1.501-1.619 3.312-1.619 5.261 0 5.17 4.206 9.376 9.377 9.376zm22.098-21.028c-.576-.591-1.38-.902-2.201-.857l-9.943.553 5.472-6.232c.779-.888 1.002-2.071.7-3.129-.159-.724-.597-1.384-1.272-1.805-.02-.015-13.08-7.601-13.08-7.601-1.066-.62-2.41-.483-3.33.338l-6.379 5.69c-1.176 1.048-1.279 2.851-.23 4.027 1.048 1.175 2.851 1.278 4.026.229l4.837-4.314 3.998 2.322-7.058 8.038c-2.926.477-5.559 1.826-7.626 3.77l3.685 3.685c1.666-1.515 3.878-2.439 6.302-2.439 5.171 0 9.377 4.206 9.377 9.377 0 2.424-.924 4.636-2.439 6.302l3.685 3.685c2.455-2.61 3.962-6.121 3.962-9.987 0-2.304-.535-4.482-1.486-6.419l3.849-.214-.936 11.485c-.128 1.57 1.041 2.946 2.611 3.074.078.006.157.009.234.009 1.47 0 2.718-1.129 2.84-2.62l1.201-14.745c.068-.822-.224-1.632-.799-2.222zm-5.282-12.217c2.636 0 4.773-2.137 4.773-4.773 0-2.637-2.137-4.774-4.773-4.774-2.637 0-4.774 2.137-4.774 4.774 0 2.636 2.137 4.773 4.774 4.773z" fill-rule="nonzero"/></svg>
						<h4>1. Be Accessible </h4>
					</div>
					
					<p><mark>The Web is for everyone</mark>, including people with disabilities. Websites should make themselves accessible to the largest possible audience. Millions of humans<sup><a title="Footnote #3" href="#footnote-3">3</a></sup> live with some form of physical or cognitive disability. Those disabilities can impair and alter people's ability to use the Web.</p>
					<p>Sometimes a small amount of code and a reasonable amount of effort can make a website easier to use for a large number of people. <abbr title="A Reasonable Website">ARW</abbr> tries to find those instances and do that work.</p>
					<p><abbr title="A Reasonable Website">ARW</abbr> works well on all kinds of devices and screens. It makes reasonable decisions about HTML element attributes, color constrast, and font sizes that prioritize accessibility.</p>

					<div class="flex-heading">
						<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>A clock</title><circle class="icon-color" cx="12" cy="12" r="10"></circle><polyline class="icon-color" points="12 6 12 12 16 14"></polyline></svg>
						<h4>2. Be Performant</h4>
					</div>
					<p><mark>The Web is for everyone</mark>, including people who lack access to fast connections and unmetered data.</p>
					<p>Small and fast websites are good websites! They save time, energy, and bandwidth with each page load.</p>
					<p>The <abbr title="A Reasonable Website">ARW</abbr> base template is just SOME KB. It loads quickly, it can be cached, it scrolls and responds to clicks and key presses as one would expect.</p>
					<p>It uses system font stacks, tiny SVGs for graphical elements, and generally prefers the good and fast solutions over the perfect and slower ones.</p>
					
					<div class="flex-heading">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><title>An open eye</title><path class="icon-color" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle class="icon-color" cx="12" cy="12" r="3"></circle></svg>
						<h4>3. Be Nice-Looking</h4>
					</div>
					<p><mark>The Web is for everyone</mark> and a well-designed Web benefits everyone. There is no reason that an accessible, performant website shouldn't also work well and be kinda nice to look at.</p>
				</section>

				<section>
					<h3>How might I use this?</h3>
					<p><abbr title="A Reasonable Website">ARW</abbr> might be used for any small project that needs a well-performing, thoughtfully designed website.</p>
					<p>The <abbr title="A Reasonable Website">ARW</abbr> base template includes a common set of HTML elements that are appropriate for most sites.</p>

					<h4>Quick-start Templates</h4>
					<p>For a few common, expected use cases, <abbr title="A Reasonable Website">ARW</abbr> includes templates to make getting started a bit easier.</p>
					<ul>
						<li><a title="" href="">A small, personal website</a></li>
						<li><a title="" href="">A blog</a></li>
						<li><a title="" href="">A news article or essay</a></li>
						<li><a title="" href="">An art project</a></li>
					</ul>
				</section>
				

				<!-- <h4>Static-site Templates</h4>
				<p>For a few popular static-site generators, ARW includes templates.</p> 
				<ul>
					<li><a title="" href="">Next.js</a></li>
					<li><a title="" href="">Gatsby</a></li>
					<li><a title="" href="">Hugo</a></li>
					<li><a title="" href="">Jekyl</a></li>
				</ul>
			-->
				
				<section>
					<h3>Colors</h3>
					<hr class="gradient" />
					
					<p>A Reasonable Website includes 4 accessible, kinda nice-looking, color palettes.</p>
					<p>All palettes and example color combinations meet or exceed <abbr title="Web Content Accessibility Guidelines">WCAG</abbr> 2.1 Level AA contrast requirements for small text, large text, and graphical elements.</p>
	
					<form id="color-element" onsubmit="changeColorPalette(event);">
						<div class="form-element-container">
						<label for="color-select">Color preview:</label>
						<select id="color-select"">
							<option value="blue">Blue</option>
							<option value="green">Green</option>
							<option value="purple">Purple</option>
							<option value="gray">Gray</option>
						</select>
						<button id="color-submit" type="submit" >Go →</button>
					</div>
					</form>
				</section>
				
				<footer class="footnotes">
					<h4>Footnotes</h4>
					<dl>
						<dt id="footnote-1">1</dt>
						<dd>Subjectively pretty nice-looking!</dd>

						<dt id="footnote-2">2</dt>
						<dd>Free software is free to use, study, modify, and improve. <a title="Read more about free software and what that term means." href="https://en.wikipedia.org/wiki/Free_software">Read more at Wikipedia</a>.</dd>

						<dt id="footnote-3">3</dt>
						<dd><a title="CDC: 1 in 4 US adults live with a disability" href="https://www.cdc.gov/media/releases/2018/p0816-disability.html">According to the CDC</a>, about 1 in 4 Americans live with a disability.</dd>
					</dl>
				</footer>

			<!-- acknowledgements, credits, and thanks -->
			<div class="full-width neutral">
			<section>
				<a name="acknowledgements"></a>
				<h2>Acknowledge&shy;ments, Credits, and Thanks</h2>

				<h4>A11y.coffee</h4>
				<p>Thanks to the generous <a title="Amberley Romo's Twitter handle (@amber1ey)" href="https://twitter.com/amber1ey">Amberley Romo</a> and the wonderful <a title="Read more about web accessibility" href="https://a11y.coffee">a11y.coffee</a> for its clear and concise explaination of common accessibility problems, goals, and strategies.</p>
				
				<h4>Cole Bemus</h4>
				<p>Thanks to <a href="https://colebemis.com/">Cole Bemus</a> for his very nice-looking <a title="" href="https://github.com/feathericons/feather">Feather icons</a>. This site uses the clock icon in the <em>Be Performant</em> heading and the eye icon in the <em>Be Nice-Looking</em>.</p>
					
				<h4>Laura Kalbag</h4>
				<p>Thanks to <a href="https://laurakalbag.com">Laura Kalbag</a> for her book <a href="https://abookapart.com/products/accessibility-for-everyone">Accessibility For Everyone</a> and for all of her work at the <a href="https://small-tech.org">Small Technology Foundation</a>.</p>
				<p>Anyone can <a href="https://small-tech.org/fund-us/">donate to the Small Technology Foundation here</a>.</p>
				
				<h4>MDN Web Docs</h4>
				<p>The wonderful <a title="" href="https://developer.mozilla.org/en-US/">MDN Web Docs</a> are an absolutely essential resource for anyone doing work on the web.</p>
				<p>Anyone can <a href="https://donate.mozilla.org">donate to Mozilla here.</a></p>

				<h4>Triangle</h4>
				<p>Thanks to <a href="https://triangle-inc.org/">Triangle</a> and <a href="http://accessibleicon.org/">The Accessible Icon Project</a>. This site uses the icon in the <em>Be Accessible</em> heading.</p>
				<p>Anyone can <a title="" href="https://triangle.ejoinme.org/MyPages/MovingForwardProject/tabid/415699/Default.aspx">donate to Triangle here</a>.</p>


				TODO:
				https://www.a11yproject.com
				https://webaim.org
				https://www.w3.org/WAI/

				<h4>Reasonable.html</h4>
				<p><abbr title="A Reasonable Website">ARW</abbr> uses example elements from <a href="https://matthewhowell.github.io/reasonable.html">reasonable.html</a> to ensure well-formed, properly-attributed, semantic HTML.</p>
				<p>Disclosure: </p>

				<h4>Reasonable.css</h4>
				<p><abbr title="A Reasonable Website">ARW</abbr> uses CSS rules from Reasonable.css as a starting point for styling for most of its HTML elements.</p>
				<p>Disclosure: </p>

				<h4>Reasonable Colors</h4>
				<p><abbr title="A Reasonable Website">ARW</abbr> uses color palettes from Reasonable Colors to provide a handful of accessible and attractive color combinations.</p>
				<p>Disclosure: </p>

			</section>
			</div>

			<!-- who made this -->
			<section>
				<h3>Who made this?</h3>
				<p>Reasonable.css was created by <a itemprop="author" href="https://www.matthewhowell.net">Matthew Howell</a>, a human, trying his best. Like all things in life, it couldn't exist without the help and generosity of others, find a <a href="#acknowledgements">full list of acknowledgements here.</a></p>
			</section>
			
		</article>

			<footer>
				<p>A Reasonable Website is a piece of <a href="" title="Read more about Reasonable Stuff">Reasonable Work</a>, a collection of small, reusable, and reasonable pieces of technology and other things.</p>
				<p>It was created in 2020 by <a href="">Matthew Howell</a>, with an amazing amount of <a href="#acknowledgements">help from others</a>.</p>
				<p><mark>May we all–<em>forever</em>–be the publishers of our own hypertext.</mark></p>
			</footer>
		</main>

		<hr />
		
		<script>

			// other available color palette style sheets
			// these redefine the CSS color variables in the main style sheet
			const colorStylesheets = {
				'blue': "./css/color-blue.css",
				'gray': "./css/color-gray.css",
				'green': "./css/color-green.css",
				'orange': "./css/color-orange.css",
				'pink': "./css/color-pink.css",
				'purple': "./css/color-purple.css",
				'red': "./css/color-red.css",
			};

// https://css-tricks.com/updating-a-css-variable-with-javascript/

			// define all of our palettes
			// each palette needs six shades
			const palettes = {
				'blue': {
					'lighter': '#F6F8FE',
					'light': '#B8D0FF',
					'medium': '#5D88EF',
					'dark': '#0D52F2',
					'darker': '#0F3A8A',
					'neutral': '#E0EDF5',
					'neutral-dark': '#E0EDF5',
				},
				'gray': {
					'lighter': '#F4F4F6',
					'light': '#D1D3DB',
					'medium': '#898C9F',
					'dark': '#15845B',
					'darker': '#434551',
					'neutral': '#EEEEEE',
					'neutral-dark': '#E0EDF5',
				},
				'green': {
					'lighter': '#F5FEFB',
					'light': '#74DCB6',
					'medium': '#16A26E',
					'dark': '#15845B',
					'darker': '#124934',
					'neutral': '#EBF5E0',
					'neutral-dark': '#E0EDF5',
				},
				'orange': {
					'lighter': '#FEF0EC',
					'light': '#F6B197',
					'medium': '#EE6D3A',
					'dark': '#B24310',
					'darker': '#32178C',
					'neutral': '#F5EFE0',
					'neutral-dark': '#E0EDF5',
				},
				'purple': {
					'lighter': '#EAE5FA',
					'light': '#CBBEEF',
					'medium': '#8A68E8',
					'dark': '#471EC3',
					'darker': '#32178C',
					'neutral': '#E9E8F7',
					'neutral-dark': '#211C36',
				},
				'pink': {
					'lighter': '#FCEEFA',
					'light': '#EDB6E3',
					'medium': '#E147C7',
					'dark': '#B42297',
					'darker': '#6A1B5B',
					'neutral': '#F7E8F5',
					'neutral-dark': '#E0EDF5',
				},
				'red': {
					'lighter': '#FEEBEE',
					'light': '#FDB4BF',
					'medium': '#F5475E',
					'dark': '#C11F35',
					'darker': '#791521',
					'neutral': '#F5E4E0',
					'neutral-dark': '#E0EDF5',
				}

			};

			// function to update a style property with a new value
			// property: the name of the style property to update
			// value: the new value to assign to the style property
			const setStyleProp = function(property, value) {
				document.documentElement.style.setProperty(property, value);
			}

			const getStyleProp = function(property) {
				return getComputedStyle(document.documentElement).getPropertyValue(property);
			}

			const changePalette = function(newPalette) {

				// choose the new palette from the pallettes object
				const palette = palettes[newPalette];

				// determine if in dark mode
				const currentMode = document.body.classList.contains('light') ? 'light' : 'dark';

				// update the document style properties for each
				// color in the new palette
				for (const color in palette) {

					// construct the style property name
					const property = '--color-' + color;

					// get the color from the new palette
					let value = palette[color];

					if (property === '--color-neutral') {
						console.log('n');
						if (currentMode === 'dark') {
							console.log('d');
							value =  palette['--color-neutral-dark'];
							console.log(value);
						}
					}

					// update the style property with the color from the new palette
					setStyleProp(property, value);
				}
			};


			// find the color style sheet
			// swap the href attribute with the new sheet
			const swapStylesheet = function (sheet, href) {
				const availableSheets = ['css-color', 'css-mode', 'css-gradient'];

				if (availableSheets.includes(sheet)) {
					
					const linkElement = document.getElementsByName(sheet);
					console.log(linkElement);
					if (linkElement[0]) {

						linkElement[0].href = './css/' + href;
					}
				}
			}
				// 
				// console.log(colorLink);
				// var currentColor = colorLink[0].href;
				// var currentColorS = currentColor.split('-');
				// console.log("current: " + currentColorS);
				// if (colorLink.length == 1) {
				// 	colorLink[0].href = colorStylesheets[sheet];
				// }

				// todo also change the css pattern color
				// name css-pattern
				// var patternLink = document.getElementsByName("css-pattern");
				// stroke-circle-purple.css
				// var currentHref = patternLink.href;
				// console.log(currentHref);
				// currentHref.replace(currentColor, sheet);
				// console.log(currentHref);
			

		// a handler for the element navigation form submit
		const changeColorPalette = function(event) {

			// use that parent element to gather all its option elements
			const option_elements = document.querySelectorAll("#color-select option");
			const element_select = document.querySelector("#color-select");
			
			// ensure that we have some selected option
			if (option_elements[element_select.selectedIndex]) {
				const selectedStylesheetOption = option_elements[element_select.selectedIndex];
				// changePalette(selectedStylesheetOption.value);
				swapStylesheet('css-color', 'palettes/color-' + selectedStylesheetOption.value + '.css');
			}

			// prevent the form from actually submitting and changing the URL
			event.preventDefault();
			return false;

		};

		// TODO
		// dark mode toggle
		// change background and text color
		// flip light/dark colors

		const toggleMode = function() {

			// whenever toggling, flip the light and dark colors
			// const toggledPalette = {
			// 	'lighter': getStyleProp('--color-darker'),
			// 	'light': getStyleProp('--color-dark'),
			// 	'dark': getStyleProp('--color-light'),
			// 	'darker': getStyleProp('--color-lighter')
			// }

			// for (const color in toggledPalette) {
			// 	setStyleProp('--color-' + color, toggledPalette[color]);
			// }

			const currentMode = document.body.classList.contains('light') ? 'light' : 'dark';
			const toggleButton = document.querySelector('#toggle-mode-submit');

			// if currently in light mode
			// change to dark mode
			if (currentMode === 'light') {
				document.body.classList.remove('light');
				document.body.classList.add('dark');
				toggleButton.innerHTML = 'Switch to Light ←';
				swapStylesheet('css-mode', 'mode-dark.css');

				// setStyleProp('--color-background', '#2D2C30');
				// setStyleProp('--color-text', '#EFEFF0');				
				// const neutral = getStyleProp('--color-neutral-light');
				// console.log(neutral);
				// setStyleProp('--color-neutral' , neutral);
			}
			// if not, then currently in dark mode
			// change to light mode
			else {
				document.body.classList.remove('dark');
				document.body.classList.add('light');
				toggleButton.innerHTML = 'Switch to Dark →';
				swapStylesheet('css-mode', 'mode-light.css');
				// setStyleProp('--color-background', '#FFFFFF');
				// setStyleProp('--color-text', '#2D2C30');				
				// const neutral = getStyleProp('--color-neutral-dark');
				// console.log(neutral);
				// setStyleProp('--color-neutral' , neutral);
			}


			// prevent the form from actually submitting and changing the URL
			event.preventDefault();
			return false;

		}

		</script>
	</body>
</html>