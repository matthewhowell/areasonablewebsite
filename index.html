<html lang="en">
	<head>	
		<meta charset="utf-8">
		<title>A Reasonable Website</title>
		<meta name="description" content="A Reasonable Website is a template that anyone can use to make an accessible, fast, and kinda nice-looking website.">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="./css/reasonable.css" />
		<link rel="stylesheet" href="./css/website.css" />
		<link rel="stylesheet" href="./css/palettes/color-blue.css" name="css-color">
		<!-- <link rel="stylesheet" href="./css/mode-light.css" name="css-mode"> -->
		<!-- <link rel="stylesheet" href="./css/gradient-ppb.css" name="css-gradient"> -->
		<!-- <link rel="stylesheet" href="./css/patterns/stroke-circle-purple.css" name="css-pattern"> -->
		
	</head>
	<body class="light">
		<div class="sticky-header-background bg-gradient full"></div>

		<main>
			<header>
				<h1><a name="h1"></a>A Reasonable Website</h1>
				<p>A Reasonable Website is a template that <em>anyone can use</em> to make an accessible, fast, and kinda nice-looking<sup><a href="#footnote-1">1</a></sup> website. That’s it!</p>
			</header>

			<article>
				<h2>Why does this exist?</h2>
				<p>A Reasonable Website (<abbr title="A Reasonable Website">ARW</abbr>) exists to help people make nice websites. It was built to become a simple, free, and universal vehicle for pushing hypertext out into the world.</p>

				<h3>Can I use this?</h3>
				<p><abbr title="A Reasonable Website">ARW</abbr> is free software<sup><a href="#footnote-2">2</a></sup>. The full, annotated source code is available, and it is released here under the <a href="https://choosealicense.com/licenses/mit/">MIT License</a>.</p>
				<p>The current version (0.1) is usable, but in steady development. Check back later for a more stable release.</p>

				<!-- <p>It is thoroughly documented, pretty easy to use, and ready for your next humble, tiny, little, amazing, world-changing project.</p> -->

				<h3>OK, but what is <em>reasonable</em>?</h3>
				<p>Websites can do so much (so much!), but <abbr title="A Reasonable Website">ARW</abbr> has just three goals: a reasonable website should be <em>accessible</em>, <em>performant</em>, and <em>nice-looking</em>.</p>
					
				<h4>1. Be Accessible</h4>
				<p>The Web is for everyone and websites should accessible to the largest possible audience. Millions of humans<sup><a href="#footnote-3">3</a></sup> live with some form of physical or cognitive disability.</p>
				<p><abbr title="A Reasonable Website">ARW</abbr> tries to work well on all kinds of devices. It makes reasonable decisions about HTML element attributes, color constrast, and font sizes that prioritize accessibility.</p>
				<p>Sometimes a small amount of code and a reasonable amount of effort can make a website usable for some person. <abbr title="A Reasonable Website">ARW</abbr> tries to find those instances and then do that work.</p>

				<h4>2. Be Performant</h4>
				<p>Small and fast websites are good websites! They save time, energy, and bandwidth with each page load.</p>
				<p>The <abbr title="A Reasonable Website">ARW</abbr> base template is just 3.6KB. It loads quickly, it can be cached, it scrolls and responds to clicks and key presses as one would expect.</p>
				<p>It uses system font stacks, tiny SVGs for graphical elements, and generally prefers the good and fast solutions over the perfect and slower ones.</p>
				<p>ARW
				
				<h4>3. Be Nice-Looking</h4>
				<p>There is no reason that an accessible, performant website shouldn't also be kinda nice to look at and a joy to use.</p>
				<p><abbr title="A Reasonable Website">ARW</abbr> tries, whenever possible, to be enjoyable, kinda nice to look at, and easy to read. It strives for a thoughtful, consistent design.</p>

				<h3>How might I use this?</h3>
				<p><abbr title="A Reasonable Website">ARW</abbr> might be used for any small project that needs a well-performing, thoughtfully designed website.</p>
				<p>The <abbr title="A Reasonable Website">ARW</abbr> base template includes a common set of HTML elements that are appropriate for many sites.</p>
				
				<h4>Quick-start Templates</h4>
				<p>For a few common, expected use cases, <abbr title="A Reasonable Website">ARW</abbr> includes templates to make getting started a bit easier.</p>
				<ul>
					<li><a title="" href="">A small, personal website</a></li>
					<li><a title="" href="">A blog</a></li>
					<li><a title="" href="">A news article or essay</a></li>
					<li><a title="" href="">An art project</a></li>
				</ul>

				<h3>Who made this?</h3>
				<p>Reasonable.css was created by <a href="https://www.matthewhowell.net">Matthew Howell</a>, a human, trying his best. Like all things in life, it couldn't exist without the help and generosity of others, find a <a href="#acknowledgements">full list of acknowledgements here.</a></p>
				
				<footer>
					<h5>Footnotes</h5>
					<dl>
						<dt id="footnote-1">1</dt>
						<dd>Subjectively pretty nice-looking!</dd>

						<dt id="footnote-2">2</dt>
						<dd>Free software is free to use, study, modify, and improve. <a title="Read more about free software and what that term means." href="https://en.wikipedia.org/wiki/Free_software">Read more at Wikipedia</a>.</dd>

						<dt id="footnote-3">3</dt>
						<dd><a title="CDC: 1 in 4 US adults live with a disability" href="https://www.cdc.gov/media/releases/2018/p0816-disability.html">According to the CDC</a>, about 1 in 4 Americans live with a disability.</dd>

						
					</dl>
				</footer>
			</article>
		
		</main>

		<!-- color -->
		<hr />		
		<section>
			<h3>Colors</h3>
			<p>A Reasonable Website includes 8 accessible, kinda nice-looking, color palettes, each with a light and dark variety.</p>
			<p>All palettes and example color combinations meet or exceed <abbr title="Web Content Accessibility Guidelines">WCAG</abbr> 2.1 Level AA contrast requirements for small text, large text, and graphical elements.</p>
<!-- 
			<hr />
			<img class="palette-preview" src="./images/palette-previews/blue.png" /> -->

			<hr class="gradient" />
			<form id="color-element" onsubmit="changeColorPalette(event);">
				<label for="color-select">Color preview:</label>
				<select id="color-select"">
					<option value="red">Red</option>
					<option value="red-dark">Red Dark</option>
					<option value="orange">Orange</option>
					<option value="orange-dark">Orange Dark</option>
					<option value="yellow">Yellow</option>
					<option value="yellow-dark">Yellow Dark</option>
					<option value="blue">Blue</option>
					<option value="blue-dark">Blue Dark</option>
					<option value="green">Green</option>
					<option value="green-dark">Green Dark</option>
					<option value="purple">Purple</option>
					<option value="purple-dark">Purple Dark</option>
					<option value="pink">Pink</option>
					<option value="pink-dark">Pink Dark</option>
					<option value="gray">Gray</option>
					<option value="gray-dark">Gray Dark</option>
				</select>
				<button id="color-submit" type="submit" >Go →</button>
			</form>

		</section>

		<!-- acknowledgements, credits, and thanks -->
		<div class="full-bg neutral">
		<section>
			<a name="acknowledgements"></a>
			<h2>Acknowledgements, Credits, and Thanks</h2>

			<h4>A11y.coffee</h4>
			<p>Thanks to the wonderful <a title="" href="https://a11y.coffee">a11y.coffee</a> for its clear and consise explaination of accessibility problems, goals, and strategies.</p>

			<h4>MDN Web Docs</h4>
			<p>The wonderful <a title="" href="https://developer.mozilla.org/en-US/">MDN Web Docs</a> are an absolutely essential resource for anyone doing work on the web.</p>
			<p>Anyone can <a href="https://donate.mozilla.org">donate to Mozilla here.</a></p>

			https://www.a11yproject.com
			https://webaim.org
			https://www.w3.org/WAI/

			<h4>Reasonable.html</h4>
			<p><abbr title="A Reasonable Website">ARW</abbr> uses example elements from <a href="https://matthewhowell.github.io/reasonable.html">reasonable.html</a> to ensure well-formed, properly-attributed, semantic HTML.</p>
			<p>Disclosure: </p>

			<h4>Reasonable.css</h4>
			<p><abbr title="A Reasonable Website">ARW</abbr> uses CSS rules from Reasonable.css as a starting point for styling for most of its HTML elements.</p>
			<p>Disclosure: </p>

			<h4>Reasonable Colors</h4>
			<p><abbr title="A Reasonable Website">ARW</abbr> uses color paletts from Reasonable Colors to provide a handful of accessible and attractive color combinations.</p>
			<p>Disclosure: </p>

		</section>
		</div>

		<footer>
			<p>A Reasonable Website is a piece of <a href="" title="Read more about Reasonable Stuff">Reasonable Work</a>, a collection of small, reusable, and reasonable pieces of technology and other things.</p>
			<p>It was created in 2020 by <a href="">Matthew Howell</a>, with an amazing amount of <a href="#acknowledgements">help from others</a>.</p>
			<p><mark>May we all–<em>forever</em>–be the publishers of our own hypertext.</mark></p>
		</footer>
		<script>

			// other available color palette style sheets
			// these redefine the CSS color variables in the main style sheet
			const colorStylesheets = {
				'blue': "./css/color-blue.css",
				'gray': "./css/color-gray.css",
				'green': "./css/color-green.css",
				'orange': "./css/color-orange.css",
				'pink': "./css/color-pink.css",
				'purple': "./css/color-purple.css",
				'red': "./css/color-red.css",
			};

// https://css-tricks.com/updating-a-css-variable-with-javascript/

			// define all of our palettes
			// each palette needs six shades
			const palettes = {
				'blue': {
					'lighter': '#F6F8FE',
					'light': '#C2D3F5',
					'medium': '#5D88EF',
					'dark': '#0D52F2',
					'darker': '#0F3A8A',
					'neutral': '#E0EDF5',
					'neutral-dark': '#E0EDF5',
				},
				'gray': {
					'lighter': '#F4F4F6',
					'light': '#D1D3DB',
					'medium': '#898C9F',
					'dark': '#15845B',
					'darker': '#434551',
					'neutral': '#EEEEEE',
					'neutral-dark': '#E0EDF5',
				},
				'green': {
					'lighter': '#F5FEFB',
					'light': '#74DCB6',
					'medium': '#16A26E',
					'dark': '#15845B',
					'darker': '#124934',
					'neutral': '#EBF5E0',
					'neutral-dark': '#E0EDF5',
				},
				'orange': {
					'lighter': '#FEF0EC',
					'light': '#F6B197',
					'medium': '#EE6D3A',
					'dark': '#B24310',
					'darker': '#32178C',
					'neutral': '#F5EFE0',
					'neutral-dark': '#E0EDF5',
				},
				'purple': {
					'lighter': '#EAE5FA',
					'light': '#CBBEEF',
					'medium': '#8A68E8',
					'dark': '#471EC3',
					'darker': '#32178C',
					'neutral': '#E9E8F7',
					'neutral-dark': '#211C36',
				},
				'pink': {
					'lighter': '#FCEEFA',
					'light': '#EDB6E3',
					'medium': '#E147C7',
					'dark': '#B42297',
					'darker': '#6A1B5B',
					'neutral': '#F7E8F5',
					'neutral-dark': '#E0EDF5',
				},
				'red': {
					'lighter': '#FEEBEE',
					'light': '#FDB4BF',
					'medium': '#F5475E',
					'dark': '#C11F35',
					'darker': '#791521',
					'neutral': '#F5E4E0',
					'neutral-dark': '#E0EDF5',
				}

			};

			// function to update a style property with a new value
			// property: the name of the style property to update
			// value: the new value to assign to the style property
			const setStyleProp = function(property, value) {
				document.documentElement.style.setProperty(property, value);
			}

			const getStyleProp = function(property) {
				return getComputedStyle(document.documentElement).getPropertyValue(property);
			}

			const changePalette = function(newPalette) {

				// choose the new palette from the pallettes object
				const palette = palettes[newPalette];

				// determine if in dark mode
				const currentMode = document.body.classList.contains('light') ? 'light' : 'dark';

				// update the document style properties for each
				// color in the new palette
				for (const color in palette) {

					// construct the style property name
					const property = '--color-' + color;

					// get the color from the new palette
					let value = palette[color];

					if (property === '--color-neutral') {
						console.log('n');
						if (currentMode === 'dark') {
							console.log('d');
							value =  palette['--color-neutral-dark'];
							console.log(value);
						}
					}

					// update the style property with the color from the new palette
					setStyleProp(property, value);
				}
			};


			// find the color style sheet
			// swap the href attribute with the new sheet
			const swapStylesheet = function (sheet, href) {
				const availableSheets = ['css-color', 'css-mode', 'css-gradient'];

				if (availableSheets.includes(sheet)) {
					
					const linkElement = document.getElementsByName(sheet);
					console.log(linkElement);
					if (linkElement[0]) {

						linkElement[0].href = './css/' + href;
					}
				}
			}
				// 
				// console.log(colorLink);
				// var currentColor = colorLink[0].href;
				// var currentColorS = currentColor.split('-');
				// console.log("current: " + currentColorS);
				// if (colorLink.length == 1) {
				// 	colorLink[0].href = colorStylesheets[sheet];
				// }

				// todo also change the css pattern color
				// name css-pattern
				// var patternLink = document.getElementsByName("css-pattern");
				// stroke-circle-purple.css
				// var currentHref = patternLink.href;
				// console.log(currentHref);
				// currentHref.replace(currentColor, sheet);
				// console.log(currentHref);
			

		// a handler for the element navigation form submit
		const changeColorPalette = function(event) {

			// use that parent element to gather all its option elements
			const option_elements = document.querySelectorAll("#color-select option");
			const element_select = document.querySelector("#color-select");
			
			// ensure that we have some selected option
			if (option_elements[element_select.selectedIndex]) {
				const selectedStylesheetOption = option_elements[element_select.selectedIndex];
				// changePalette(selectedStylesheetOption.value);
				swapStylesheet('css-color', 'palettes/color-' + selectedStylesheetOption.value + '.css');
			}

			// prevent the form from actually submitting and changing the URL
			event.preventDefault();
			return false;

		};

		// TODO
		// dark mode toggle
		// change background and text color
		// flip light/dark colors

		const toggleMode = function() {

			// whenever toggling, flip the light and dark colors
			// const toggledPalette = {
			// 	'lighter': getStyleProp('--color-darker'),
			// 	'light': getStyleProp('--color-dark'),
			// 	'dark': getStyleProp('--color-light'),
			// 	'darker': getStyleProp('--color-lighter')
			// }

			// for (const color in toggledPalette) {
			// 	setStyleProp('--color-' + color, toggledPalette[color]);
			// }

			const currentMode = document.body.classList.contains('light') ? 'light' : 'dark';
			const toggleButton = document.querySelector('#toggle-mode-submit');

			// if currently in light mode
			// change to dark mode
			if (currentMode === 'light') {
				document.body.classList.remove('light');
				document.body.classList.add('dark');
				toggleButton.innerHTML = 'Switch to Light ←';
				swapStylesheet('css-mode', 'mode-dark.css');

				// setStyleProp('--color-background', '#2D2C30');
				// setStyleProp('--color-text', '#EFEFF0');				
				// const neutral = getStyleProp('--color-neutral-light');
				// console.log(neutral);
				// setStyleProp('--color-neutral' , neutral);
			}
			// if not, then currently in dark mode
			// change to light mode
			else {
				document.body.classList.remove('dark');
				document.body.classList.add('light');
				toggleButton.innerHTML = 'Switch to Dark →';
				swapStylesheet('css-mode', 'mode-light.css');
				// setStyleProp('--color-background', '#FFFFFF');
				// setStyleProp('--color-text', '#2D2C30');				
				// const neutral = getStyleProp('--color-neutral-dark');
				// console.log(neutral);
				// setStyleProp('--color-neutral' , neutral);
			}


			// prevent the form from actually submitting and changing the URL
			event.preventDefault();
			return false;

		}

		</script>
	</body>
</html>